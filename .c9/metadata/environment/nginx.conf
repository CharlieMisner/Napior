{"filter":false,"title":"nginx.conf","tooltip":"/nginx.conf","undoManager":{"mark":20,"position":20,"stack":[[{"start":{"row":0,"column":0},"end":{"row":40,"column":1},"action":"insert","lines":["daemon off;","","worker_processes 4;","","events { worker_connections 1024; }","","http {","        ssl_session_cache   shared:SSL:10m;","        ssl_session_timeout 30m;","","        #See http://blog.argteam.com/coding/hardening-node-js-for-production-part-2-using-nginx-to-avoid-node-js-load","        proxy_cache_path        /var/cache/nginx levels=1:2 keys_zone=one:8m max_size=3000m inactive=600m;","        proxy_temp_path         /var/tmp;","        include                 mime.types;","        default_type            application/octet-stream;","        sendfile                on;","        keepalive_timeout       65;","","        gzip                    on;","        gzip_comp_level         6;","        gzip_vary               on;","        gzip_min_length         1000;","        gzip_proxied            any;","        gzip_types              text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;","        gzip_buffers            16 8k;","","    server {","      listen       8080;","      server_name  0.0.0.0;","","      location / {","          root   /usr/src/build/dist;","          # root   /usr/share/nginx/html;","          index  index.html;","          expires -1;","          add_header Pragma \"no-cache\";","          add_header Cache-Control \"no-store, no-cache, must-revalidate, post-check=0, pre-check=0\";","          try_files $uri$args $uri$args/ $uri $uri/ /index.html =404;","      }","    }","}"],"id":1}],[{"start":{"row":30,"column":6},"end":{"row":38,"column":7},"action":"remove","lines":["location / {","          root   /usr/src/build/dist;","          # root   /usr/share/nginx/html;","          index  index.html;","          expires -1;","          add_header Pragma \"no-cache\";","          add_header Cache-Control \"no-store, no-cache, must-revalidate, post-check=0, pre-check=0\";","          try_files $uri$args $uri$args/ $uri $uri/ /index.html =404;","      }"],"id":5},{"start":{"row":30,"column":6},"end":{"row":48,"column":5},"action":"insert","lines":["location / {","        include proxy_params;","        proxy_pass http://0.0.0.0:8080;","        proxy_set_header Upgrade $http_upgrade;","        proxy_set_header Connection \"upgrade\";","        proxy_set_header Host $host;","    }","    location /napior_api {","        include proxy_params;","        proxy_pass http://0.0.0.0:8081/napior_api/;","    }","    location /usgs_api {","        include proxy_params;","        proxy_pass http://0.0.0.0:8081/usgs_api/;","    }","    location /subscription_api {","        include proxy_params;","        proxy_pass http://0.0.0.0:8081/subscription_api/;","    }"]}],[{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"insert","lines":["    "],"id":6},{"start":{"row":37,"column":0},"end":{"row":37,"column":4},"action":"insert","lines":["    "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"insert","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"insert","lines":["    "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]},{"start":{"row":43,"column":0},"end":{"row":43,"column":4},"action":"insert","lines":["    "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"insert","lines":["    "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"insert","lines":["    "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"insert","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"insert","lines":["    "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":48,"column":9},"end":{"row":49,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":49,"column":0},"end":{"row":49,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":27,"column":0},"end":{"row":27,"column":4},"action":"insert","lines":["    "],"id":8},{"start":{"row":28,"column":0},"end":{"row":28,"column":4},"action":"insert","lines":["    "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":4},"action":"insert","lines":["    "]},{"start":{"row":30,"column":0},"end":{"row":30,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":27,"column":9},"end":{"row":27,"column":10},"action":"remove","lines":[" "],"id":9}],[{"start":{"row":27,"column":8},"end":{"row":27,"column":9},"action":"remove","lines":[" "],"id":10}],[{"start":{"row":28,"column":9},"end":{"row":28,"column":10},"action":"remove","lines":[" "],"id":11}],[{"start":{"row":28,"column":8},"end":{"row":28,"column":9},"action":"remove","lines":[" "],"id":12}],[{"start":{"row":30,"column":9},"end":{"row":30,"column":10},"action":"remove","lines":[" "],"id":13}],[{"start":{"row":30,"column":8},"end":{"row":30,"column":9},"action":"remove","lines":[" "],"id":14}],[{"start":{"row":31,"column":0},"end":{"row":31,"column":4},"action":"insert","lines":["    "],"id":15},{"start":{"row":32,"column":0},"end":{"row":32,"column":4},"action":"insert","lines":["    "]},{"start":{"row":33,"column":0},"end":{"row":33,"column":4},"action":"insert","lines":["    "]},{"start":{"row":34,"column":0},"end":{"row":34,"column":4},"action":"insert","lines":["    "]},{"start":{"row":35,"column":0},"end":{"row":35,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":32,"column":41},"end":{"row":32,"column":42},"action":"remove","lines":["0"],"id":16},{"start":{"row":32,"column":41},"end":{"row":32,"column":42},"action":"insert","lines":["2"]}],[{"start":{"row":31,"column":12},"end":{"row":31,"column":33},"action":"remove","lines":["include proxy_params;"],"id":17},{"start":{"row":31,"column":12},"end":{"row":34,"column":47},"action":"insert","lines":["proxy_set_header Host $http_host;","    proxy_set_header X-Real-IP $remote_addr;","    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;","    proxy_set_header X-Forwarded-Proto $scheme;"]}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":4},"action":"insert","lines":["    "],"id":18},{"start":{"row":33,"column":0},"end":{"row":33,"column":4},"action":"insert","lines":["    "]},{"start":{"row":34,"column":0},"end":{"row":34,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":4},"action":"insert","lines":["    "],"id":19},{"start":{"row":33,"column":0},"end":{"row":33,"column":4},"action":"insert","lines":["    "]},{"start":{"row":34,"column":0},"end":{"row":34,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":36,"column":0},"end":{"row":38,"column":40},"action":"remove","lines":["            proxy_set_header Upgrade $http_upgrade;","            proxy_set_header Connection \"upgrade\";","            proxy_set_header Host $host;"],"id":20}],[{"start":{"row":35,"column":43},"end":{"row":36,"column":0},"action":"remove","lines":["",""],"id":21}],[{"start":{"row":38,"column":12},"end":{"row":38,"column":33},"action":"remove","lines":["include proxy_params;"],"id":22},{"start":{"row":38,"column":12},"end":{"row":41,"column":55},"action":"insert","lines":["proxy_set_header Host $http_host;","            proxy_set_header X-Real-IP $remote_addr;","            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;","            proxy_set_header X-Forwarded-Proto $scheme;"]}],[{"start":{"row":45,"column":12},"end":{"row":45,"column":33},"action":"remove","lines":["include proxy_params;"],"id":23},{"start":{"row":45,"column":12},"end":{"row":48,"column":55},"action":"insert","lines":["proxy_set_header Host $http_host;","            proxy_set_header X-Real-IP $remote_addr;","            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;","            proxy_set_header X-Forwarded-Proto $scheme;"]}],[{"start":{"row":52,"column":12},"end":{"row":52,"column":33},"action":"remove","lines":["include proxy_params;"],"id":24},{"start":{"row":52,"column":12},"end":{"row":55,"column":55},"action":"insert","lines":["proxy_set_header Host $http_host;","            proxy_set_header X-Real-IP $remote_addr;","            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;","            proxy_set_header X-Forwarded-Proto $scheme;"]}]]},"ace":{"folds":[],"scrolltop":240,"scrollleft":0,"selection":{"start":{"row":32,"column":52},"end":{"row":32,"column":52},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":16,"state":"start","mode":"ace/mode/ini"}},"timestamp":1519174127801,"hash":"7c488a08b6b1fe2fdf4a9fd6caffdad82fe09453"}